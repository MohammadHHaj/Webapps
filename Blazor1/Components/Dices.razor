@using Blazor1.Model
@using Blazor1.Pages
<div class="top-corner" style="background-color: lightblue">
<!--<p> Du slog: @d.getEyes()</p>

<button class="btn btn-secondary" @onclick="d.Roll">Slå terningen</button>

    <div>
        @foreach (DiceLogic dice in dices)
        {
            <p>@dice.getEyes().ToString()</p>
            
        }
        <button @onclick="Roll">Slå alle terninger</button>
    </div>
-->
    <div>
        @foreach (DiceLogic dice in dices)
        {
            <img src="@dice.GetImagePath()" alt="Terning" class="dice-image" width="25" height="25"/>
            <br/>
            
        }
        <br/>
        <button @onclick="Roll">Slå alle terninger</button>
    </div>
</div>

@code{
    [Parameter]
    public int numberOfDice { get; set; } = 1;
    DiceLogic d = new();
    
    private readonly List<DiceLogic> dices = new();
   
    protected override void OnInitialized()
    {
        dices.Clear();
        for (int i = 0; i < numberOfDice; i++)
        {
            dices.Add(new DiceLogic());
        }
        Roll();
    }
    private void Roll()
    {
        foreach (DiceLogic dice in dices)
        {
            dice.Roll();
        }
    }
}